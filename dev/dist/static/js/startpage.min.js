"use strict";var cnv=document.getElementById("canvas"),ctx=cnv.getContext("2d"),wdt=cnv.width=window.innerWidth,hgh=cnv.height=window.innerHeight,opt={backgroundColor:"#333",particleColor:"#ff0",defaultSpeed:1,addedSpeed:2,defaultRadius:2,addedRadius:2,particleAmount:50,cmcRadius:300,lineWidth:.5,lineColor:"rgba( 0, 255, 0, opacity )"},prt=[],Particle=function(t,i){this.x=t||Math.random()*wdt,this.y=i||Math.random()*hgh,this.speed=opt.defaultSpeed+Math.random()*opt.addedSpeed,this.directionAngle=Math.floor(360*Math.random()),this.color=opt.particleColor,this.radius=opt.defaultRadius+Math.random()*opt.addedRadius,this.dir={x:Math.cos(this.directionAngle)*this.speed,y:Math.sin(this.directionAngle)*this.speed},this.update=function(){this.border(),this.x+=this.dir.x,this.y+=this.dir.y},this.border=function(){(this.x>=wdt||this.x<=0)&&(this.dir.x*=-1),(this.y>=hgh||this.y<=0)&&(this.dir.y*=-1),this.x>wdt?this.x=wdt:this.x,this.y>hgh?this.y=hgh:this.y,this.x<0?this.x=0:this.x,this.y<0?this.y=0:this.y},this.draw=function(){ctx.beginPath(),ctx.arc(this.x,this.y,this.radius,0,2*Math.PI),ctx.closePath(),ctx.fillStyle=this.color,ctx.fill()}},checkDistance=function(t,i,e,n){return Math.sqrt(Math.pow(e-t,2)+Math.pow(n-i,2))};function resizeCanvas(){wdt=cnv.width=window.innerWidth,hgh=cnv.height=window.innerHeight}function setup(){for(var t=0;t<opt.particleAmount;t++)prt.push(new Particle);window.requestAnimationFrame(loop)}function loop(){ctx.fillStyle=opt.backgroundColor,ctx.fillRect(0,0,wdt,hgh);for(var t=0;t<prt.length;t++)prt[t].update(),prt[t].draw();for(var i=0;i<prt.length;i++)cmcPoints(prt[i],prt);window.requestAnimationFrame(loop)}cmcPoints=function(t,i){for(var e=0;e<i.length;e++){var n=1-checkDistance(t.x,t.y,i[e].x,i[e].y)/opt.cmcRadius;n>0&&(ctx.lineWidth=n,ctx.strokeStyle=opt.lineColor.replace("opacity",n),ctx.beginPath(),ctx.moveTo(t.x,t.y),ctx.lineTo(i[e].x,i[e].y),ctx.closePath(),ctx.stroke())}},setup(),cnv.addEventListener("click",(function(t){prt.push(new Particle(t.pageX,t.pageY))})),cnv.addEventListener("contextmenu",(function(t){t.preventDefault(),prt.splice(prt.length-1,1)})),window.addEventListener("resize",resizeCanvas,!1);